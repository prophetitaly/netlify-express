(this.webpackJsonpbiglab1=this.webpackJsonpbiglab1||[]).push([[0],{61:function(e,t,a){},63:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(27),i=a.n(c),r=(a(61),a(62),a(63),a(11)),o=a(34),l=a(74),d=a(75),j=a(7),u=a(39),h=a(17),b=a(15),x=a(1);var p=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(h.a,{variant:"flush",id:"sidebarMenu",children:[Object(x.jsx)(h.a.Item,{as:b.c,to:"/all",className:"list-group-item",activeClassName:"active",action:!0,children:"All"}),Object(x.jsx)(h.a.Item,{as:b.c,to:"/important",className:"list-group-item",activeClassName:"active",action:!0,children:"Important"}),Object(x.jsx)(h.a.Item,{as:b.c,to:"/today",className:"list-group-item",activeClassName:"active",action:!0,children:"Today"}),Object(x.jsx)(h.a.Item,{as:b.c,to:"/next7days",className:"list-group-item",activeClassName:"active",action:!0,children:"Next 7 Days"}),Object(x.jsx)(h.a.Item,{as:b.c,to:"/private",className:"list-group-item",activeClassName:"active",action:!0,children:"Private"})]})})},O=a(52),f=a(21);var m=function(e){var t=Object(n.useState)(!0),a=Object(r.a)(t,2),s=a[0],c=a[1];return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(o.a,{variant:"dark",expand:"sm",bg:"success",children:[Object(x.jsxs)(O.a,{className:"w-100 justify-content-between align-items-center",children:[Object(x.jsx)(f.a,{xs:"auto",children:Object(x.jsx)(o.a.Toggle,{collapsed:"true","aria-controls":"collapse-id","aria-expanded":"false","aria-label":"Toggle Navigation",onClick:function(){return c(!s)}})}),Object(x.jsx)(f.a,{xs:"auto",children:Object(x.jsxs)(o.a.Brand,{as:b.c,to:"/all",exact:!0,children:[Object(x.jsx)(l.a,{}),"ToDo Manager"]})}),Object(x.jsx)(j.a,{className:"my-2 my-lg-0 mx-auto d-none d-sm-block",children:Object(x.jsx)(u.a,{placeholder:"Search","aria-label":"Search",type:"search"})}),Object(x.jsx)(f.a,{xs:"auto",style:{display:"flex",justifyContent:"flex-end"},children:Object(x.jsx)(d.a,{color:"white",size:30})})]}),Object(x.jsx)(O.a,{className:"d-sm-none d-flex w-100 justify-content-between",children:Object(x.jsx)(o.a.Collapse,{children:Object(x.jsx)(p,{show:s})})})]})})},v=a(49),g=a.n(v),k=a(53),y=a(76),Y=a(77),w=a(78),C=a(79),N=a(80),D=a(25),I=a(12),M=a.n(I),S=a(8);var T=function(e){var t=Object(n.useState)(e.task.description),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)(e.task.date),o=Object(r.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(e.task.important),p=Object(r.a)(u,2),O=p[0],m=p[1],v=Object(n.useState)(e.task.private),g=Object(r.a)(v,2),k=g[0],I=g[1],T=Object(n.useState)(""),F=Object(r.a)(T,2),B=F[0],G=F[1],H=Object(n.useState)(""),P=Object(r.a)(H,2),L=P[0],A=P[1],E=Object(S.h)(),J=Object(S.g)(),R=function(t){t.preventDefault();var a=!0;if(A((function(){return""})),(l.isBefore(M()(),"day")&&l!==e.task.date||!l.isValid())&&(a=!1,A((function(e){if(""===e)return"Invalid date (should be after "+M()().format("DD/MM/YYYY")+")"}))),""===s?(a=!1,G((function(e){return"Invalid description (should have a description)"}))):e.tasks.some((function(t){return t.description===s&&t.date.format("DD/MM/YYYY")===l.format("DD/MM/YYYY")&&t.id!==e.task.id}))&&(a=!1,G((function(e){return"Invalid description (should not have the same description and date as other tasks)"})),A((function(e){return"Invalid date (should not have the same description and date as other tasks)"}))),a){var n={id:e.task.id,description:s,date:l,important:O,private:k};e.setTasks((function(e){return e.map((function(e){return e.id===n.id?n:e}))})),G((function(){return""})),A((function(){return""})),J.push(E.pathname.substr(0,E.pathname.lastIndexOf("/")))}};return Object(x.jsxs)(S.d,{children:[Object(x.jsx)(S.b,{path:E.pathname.substring(0,E.pathname.lastIndexOf("/"))+"/"+e.task.id,render:function(){return Object(x.jsx)(h.a.Item,{as:"ul",children:Object(x.jsx)(j.a,{children:Object(x.jsxs)(j.a.Row,{className:" align-items-center",children:[Object(x.jsxs)(j.a.Group,{as:f.a,className:"my-auto",sm:4,children:[Object(x.jsx)(j.a.Control,{required:!0,isInvalid:B,value:s,onChange:function(e){return c((function(){return e.target.value}))}}),Object(x.jsx)(j.a.Control.Feedback,{type:"invalid",children:B})]}),Object(x.jsx)(j.a.Group,{as:f.a,className:"my-auto",sm:2,children:Object(x.jsx)(j.a.Check,{type:"checkbox",custom:!0,id:"important",label:"Important",defaultChecked:O,onChange:function(e){return m((function(){return!O}))}})}),Object(x.jsx)(j.a.Group,{as:f.a,className:"my-auto",sm:2,children:Object(x.jsx)(j.a.Check,{type:"checkbox",custom:!0,id:"private",label:"Private",defaultChecked:k,onChange:function(e){return I((function(){return!k}))}})}),Object(x.jsxs)(j.a.Group,{as:f.a,className:"my-auto",sm:3,children:[Object(x.jsx)(j.a.Control,{type:"date",isInvalid:L,min:M()().format("YYYY-MM-DD"),value:l.format("YYYY-MM-DD"),onChange:function(e){return d((function(){return M()(e.target.value)}))}}),Object(x.jsx)(j.a.Control.Feedback,{type:"invalid",children:L})]}),Object(x.jsxs)(f.a,{style:{display:"flex",justifyContent:"flex-end"},children:[Object(x.jsx)(D.a,{variant:"danger",style:{background:"red",color:"white",padding:"3px ",height:"24px"},onClick:function(e){e.preventDefault(),J.push(E.pathname.substr(0,E.pathname.lastIndexOf("/")))},children:Object(x.jsx)("div",{className:"d-flex w-100 justify-content-between align-items-center",style:{height:"16px",width:"16px"},children:Object(x.jsx)(y.a,{style:{height:"16px",width:"16px",padding:"0px"}})})}),Object(x.jsx)("span",{className:"mx-1"}),Object(x.jsx)(D.a,{variant:"success",style:{background:"green",color:"white",padding:"3px",height:"24px"},onClick:R,children:Object(x.jsx)("div",{className:"d-flex w-100 justify-content-between align-items-center",style:{height:"16px",width:"16px"},children:Object(x.jsx)(Y.a,{style:{height:"16px",width:"16px",padding:"0px"}})})})]})]})})})}}),Object(x.jsx)(S.b,{render:function(){return Object(x.jsx)(h.a.Item,{as:"ul",children:Object(x.jsxs)("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[Object(x.jsx)(f.a,{sm:6,children:Object(x.jsx)(j.a.Check,{type:"checkbox",label:e.task.description,id:e.task.id,className:e.task.important?"important":"",custom:!0})}),Object(x.jsx)(f.a,{children:e.task.private?Object(x.jsx)(w.a,{}):Object(x.jsx)(x.Fragment,{})}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("small",{children:[e.task.date.format("DD MMM YYYY"),"       "]}),Object(x.jsx)(D.a,{as:b.b,to:isNaN(E.pathname.substr(E.pathname.lastIndexOf("/")+1))?E.pathname+"/"+e.task.id:E.pathname.substr(0,E.pathname.lastIndexOf("/"))+"/"+e.task.id,id:"modifyButton",style:{padding:"3px",height:"24px"},children:Object(x.jsx)("div",{className:"d-flex w-100 justify-content-between align-items-center",style:{height:"16px",width:"16px"},children:Object(x.jsx)(C.a,{style:{height:"16px",width:"16px",padding:"0px"}})})}),Object(x.jsx)(D.a,{id:"deleteButton",style:{padding:"3px",height:"24px"},onClick:function(t){t.preventDefault(),e.deleteTask(e.task.id)},children:Object(x.jsx)("div",{className:"d-flex w-100 justify-content-between align-items-center",style:{height:"16px",width:"16px"},children:Object(x.jsx)(N.a,{style:{height:"16px",width:"16px",padding:"0px"}})})})]})]})})}})]})};var F=function(e){var t=Object(S.h)(),a=function(t){e.setTasks((function(e){return e.filter((function(e){return e.id!==t}))}))};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("h2",{children:[Object(x.jsx)("b",{children:"Filter: "}),t.pathname.substr(t.pathname.indexOf("/")+1).split("/")[0]]}),Object(x.jsx)(h.a,{as:"ul",variant:"flush",children:e.tasks.map((function(t){return e.filter(t)?Object(x.jsx)(T,{task:t,deleteTask:a,tasks:e.tasks,setTasks:e.setTasks},t.id):""}))})]})},B=a(54),G=a(81),H=a(31);function P(e){var t=Object(n.useState)(""),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)(M()()),o=Object(r.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(!1),h=Object(r.a)(u,2),b=h[0],p=h[1],O=Object(n.useState)(!1),m=Object(r.a)(O,2),v=m[0],g=m[1],k=Object(n.useState)(""),y=Object(r.a)(k,2),w=y[0],C=y[1],N=Object(n.useState)(""),I=Object(r.a)(N,2),S=I[0],T=I[1];function F(){C((function(){return""})),T((function(){return""})),d((function(){return M()()})),c((function(){return""})),g((function(){return!1})),p((function(){return!1}))}return Object(x.jsxs)(H.a,{show:e.show,onHide:function(){F(),e.onHide()},size:"lg","aria-labelledby":"modalForm",centered:!0,children:[Object(x.jsx)(H.a.Header,{closeButton:!0,children:Object(x.jsx)(H.a.Title,{id:"modalForm",children:Object(x.jsx)("h2",{children:"New Task"})})}),Object(x.jsx)(H.a.Body,{children:Object(x.jsxs)(j.a,{children:[Object(x.jsx)(j.a.Row,{className:" align-items-center",children:Object(x.jsxs)(j.a.Group,{as:f.a,className:"my-auto",children:[Object(x.jsx)(j.a.Label,{children:"Description"}),Object(x.jsx)(j.a.Control,{required:!0,placeholder:"Description",isInvalid:w,value:s,onChange:function(e){return c((function(){return e.target.value}))}}),Object(x.jsx)(j.a.Control.Feedback,{type:"invalid",children:w})]})}),Object(x.jsxs)(j.a.Row,{className:"mt-2",children:[Object(x.jsxs)(j.a.Group,{as:f.a,className:"my-auto",sm:"auto",children:[Object(x.jsx)(j.a.Label,{children:"Date"}),Object(x.jsx)(j.a.Control,{type:"date",isInvalid:S,min:M()().format("YYYY-MM-DD"),value:l.format("YYYY-MM-DD"),onChange:function(e){return d((function(){return M()(e.target.value)}))}}),Object(x.jsx)(j.a.Control.Feedback,{type:"invalid",children:S})]}),Object(x.jsx)(f.a,{}),Object(x.jsx)(j.a.Group,{as:f.a,className:"my-auto",children:Object(x.jsx)(j.a.Check,{type:"checkbox",custom:!0,id:"important",label:"Important",onChange:function(e){return p((function(){return!b}))}})}),Object(x.jsx)(j.a.Group,{as:f.a,className:"my-auto",children:Object(x.jsx)(j.a.Check,{type:"checkbox",custom:!0,id:"private",label:"Private",onChange:function(e){return g((function(){return!v}))}})}),Object(x.jsx)(f.a,{sm:"auto",className:"d-flex align-items-center",children:Object(x.jsx)(D.a,{variant:"success",style:{background:"green",color:"white",padding:"6px",height:"48px"},onClick:function(t){t.preventDefault();var a=!0;if(T((function(){return""})),!l.isBefore(M()().format("YYYY-MM-DD"))&&l.isValid()||(a=!1,T((function(e){if(""===e)return"Invalid date (should be after "+M()().format("DD/MM/YYYY")+")"}))),""===s?(a=!1,C((function(e){return"Invalid description (should have a description)"}))):e.tasks.some((function(e){return e.description===s&&e.date.format("DD/MM/YYYY")===l.format("DD/MM/YYYY")}))&&(a=!1,C((function(e){return"Invalid description (should not have the same description and date as other tasks)"})),T((function(e){return"Invalid date (should not have the same description and date as other tasks)"}))),a){var n={description:s,date:l,important:b,private:v,completed:0,user:0};fetch("/api/tasks/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).catch((function(e){console.log("Failed to store data on server: ",e)})),F(),e.onHide()}},children:Object(x.jsx)("div",{className:"d-flex w-100 justify-content-between align-items-center",style:{height:"32px",width:"32px"},children:Object(x.jsx)(Y.a,{style:{height:"32px",width:"32",padding:"0px"}})})})})]})]})}),Object(x.jsx)(H.a.Footer,{children:Object(x.jsx)(D.a,{variant:"danger",onClick:function(){F(),e.onHide()},children:"Close"})})]})}var L=function(e){var t=Object(n.useState)(),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)(!1),o=Object(r.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(!0),u=Object(r.a)(j,2),h=u[0],b=u[1];return Object(n.useEffect)((function(){function e(){return(e=Object(k.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/tasks/");case 2:return t=e.sent,e.next=5,t.json();case 5:(a=e.sent).forEach((function(e){e.date=M()(e.date)})),c(a),console.log(a),b(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}b(!0),function(){e.apply(this,arguments)}()}),[l]),Object(x.jsxs)(B.a,{fluid:!0,children:[Object(x.jsxs)(O.a,{className:"min-height-94",children:[Object(x.jsx)(f.a,{className:"bg-light pt-3 d-none d-sm-block",sm:4,children:Object(x.jsx)(p,{})}),!h&&Object(x.jsx)(f.a,{className:"pt-3",sm:8,children:Object(x.jsxs)(S.d,{children:[Object(x.jsx)(S.b,{path:"/important",render:function(){return Object(x.jsx)(F,{tasks:s,setTasks:c,filter:function(e){return e.important}})}}),Object(x.jsx)(S.b,{path:"/today",render:function(){return Object(x.jsx)(F,{tasks:s,setTasks:c,filter:function(e){return e.date.isSame(M()(),"day")}})}}),Object(x.jsx)(S.b,{path:"/next7days",render:function(){return Object(x.jsx)(F,{tasks:s,setTasks:c,filter:function(e){return e.date.isAfter(M()(),"day")&&e.date.isBefore(M()().add(7,"day"),"day")}})}}),Object(x.jsx)(S.b,{path:"/private",render:function(){return Object(x.jsx)(F,{tasks:s,setTasks:c,filter:function(e){return e.private}})}}),Object(x.jsx)(S.b,{path:"/all",render:function(){return Object(x.jsx)(F,{tasks:s,setTasks:c,filter:function(e){return!0}})}})]})})]}),Object(x.jsx)(D.a,{variant:"success",id:"AddTask",onClick:function(){return d(!0)},children:Object(x.jsx)(G.a,{width:"40",height:"50"})}),!h&&Object(x.jsx)(P,{tasks:s,setTasks:c,show:l,onHide:function(){return d(!1)}})]})};var A=function(){return Object(x.jsxs)(b.a,{children:[Object(x.jsx)(S.b,{path:"/",exact:!0,children:Object(x.jsx)(S.a,{to:"/all"})}),Object(x.jsx)(m,{}),Object(x.jsx)(L,{})]})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,82)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};i.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(A,{})}),document.getElementById("root")),E()}},[[72,1,2]]]);
//# sourceMappingURL=main.355a7784.chunk.js.map